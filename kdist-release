#! /bin/bash

USAGE="<command> [<args>]

The 'release' commands are:

   kernel    Create a new kernel release
   project   Create a global project release
   log       Gives some information on a release
   list      List the releases made for a given target

See 'kdist release <command> --help for more information on a specific command."

while
	case $1 in
	-*)	usage ;;
	*)	break
	esac
do
	shift
done

kdist_subcommand=$1
shift

release__get_parent () {
	git describe --always --abbrev=0 $1~1
}

case $kdist_subcommand in
project|kernel) kdist_subcommand="new $kdist_subcommand";;
log|list)	;;
esac
source $libexecdir/kdist-$kdist_command--$kdist_subcommand "$@"
